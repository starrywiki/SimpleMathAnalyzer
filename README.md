# SimpleMathAnalyzer
Lexical analysis, syntax analysis, and simple equality judgment of simple mathematical expressions

## ğŸ“ é¡¹ç›®æ¦‚è¿°

* **é¡¹ç›®æ„æˆ**: åŒ…å«ä¸€ä¸ª**ç¼–ç¨‹ä»»åŠ¡**ï¼ˆç¼–è¯‘å™¨ç»„ä»¶å®ç°ï¼‰å’Œä¸€ä¸ª**ç†è®ºä»»åŠ¡**ï¼ˆç¨‹åºè¯­è¨€ç†è®ºè¯æ˜ï¼‰ã€‚
* **ç¼–ç¨‹ä»»åŠ¡**: **ç®€å•æ•°å­¦è¡¨è¾¾å¼çš„è¯æ³•åˆ†æã€è¯­æ³•åˆ†æå’Œç®€å•ç­‰æ€§åˆ¤æ–­**ã€‚

* **å®ç°ç›®æ ‡**:
    * å®šä¹‰åŒ…å«æ•´æ•°å¸¸æ•°ã€å˜é‡ï¼ˆå•ä¸ªå­—æ¯ï¼‰ã€å››åˆ™è¿ç®—ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼Œä¹˜å·å¯èƒ½çœç•¥ï¼‰ã€å¹‚è¿ç®—ã€å¼€æ ¹å·ã€è‡ªç„¶å¯¹æ•°ã€ä¸‰è§’å‡½æ•°ä»¥åŠæ‹¬å·çš„æ•°å­¦è¡¨è¾¾å¼**è¯­æ³•æ ‘**ã€‚
    * å®ç°è¿™ç±»è¡¨è¾¾å¼çš„**è¯æ³•åˆ†æ**å’Œ**è¯­æ³•åˆ†æ**ã€‚
    * å®ç°**ç®€å•ç­‰æ€§åˆ¤æ–­**ï¼šå°†åŒ…å«åŠ å‡ä¹˜ä»¥å¤–ä»»ä½•è¿ç®—ç¬¦çš„å­å¼çœ‹ä½œä¸€ä¸ªæ•´ä½“ï¼Œåˆ©ç”¨**å¤šé¡¹å¼**çš„å˜æ¢åˆ¤å®šä¸¤ä¸ªè¡¨è¾¾å¼æ˜¯å¦ç›¸ç­‰ï¼ˆä¾‹å¦‚ $1+x$ ä¸ $x+1$ åº”è¢«åˆ¤å®šä¸ºç›¸ç­‰ï¼‰ã€‚
    * å°†æŒ‡æ•°ä¸ºå¸¸æ•° 2ã€å¸¸æ•° 3 çš„æƒ…å†µçº³å…¥ä¸Šè¿°ç­‰æ€§åˆ¤æ–­çš„å¤„ç†èŒƒå›´ã€‚

---
## ç¼–è¯‘æ„å»º
è¯·åœ¨**é¡¹ç›®æ ¹ç›®å½•**ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤
```bash
g++ *.cpp -o main
./main
```
## ä½¿ç”¨è¯´æ˜
### ç‰¹æ®Šç¬¦å·å’Œä¼˜å…ˆçº§è§„åˆ™è¯´æ˜
ç”¨^è¡¨ç¤ºå¹‚è¿ç®—ï¼Œä¾‹å¦‚$2^3$è¡¨ç¤º$2$çš„$3$æ¬¡å¹‚
ä¸‰è§’å‡½æ•°å’Œå¹‚è¿ç®—çš„ç»“åˆå…³ç³»æ˜¯å¹‚è¿ç®—çš„ä¼˜å…ˆçº§é«˜äºä¸‰è§’å‡½æ•°
å¤„ç†å®Œéšå¼ä¹˜æ³•åçš„è¯­æ³•è§„åˆ™å¤§è‡´å¦‚ä¸‹
E -> E + F
E -> E - F
E -> F
F -> F / G
F -> F * G
F -> G
G -> H ^ G
G -> H
H -> -H
H -> ( E )
H -> cosG
H -> sinG
H -> tanG
H -> lnG
H -> sqrtG
H -> Num
H -> Var

### éšæœºæµ‹è¯•
æµ‹è¯•æ•°æ®çš„æ„é€ è§`exam.h`\
è¯·æ³¨æ„ï¼Œé»˜è®¤ä¼šå¼€å¯éšæœºæµ‹è¯•ï¼Œéšæœºæµ‹è¯•ä»…åŒ…å«è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œç­‰æ€§åˆ¤æ–­éœ€ä¹‹åæ‰‹åŠ¨è¾“å…¥è¡¨è¾¾å¼è¿›è¡Œæµ‹è¯•\
### äº¤äº’é€»è¾‘
äº¤äº’é€»è¾‘ä¸ºéšæœºæµ‹è¯•å®Œé€šè¿‡è¾“å…¥1æˆ–è€…2è¿›å…¥å•ä¸ª/ä¸¤ä¸ªè¡¨è¾¾å¼çš„è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œè¾“å…¥ä¸¤ä¸ªè¡¨è¾¾å¼ä¼šåœ¨å…¶ä¸Šå¢åŠ ç­‰æ€§åˆ¤æ–­çš„é€»è¾‘\
äº¤äº’ç¤ºæ„ï¼š
```bash
============================================
   Simple Math Analyzer Interactive Mode
============================================
Select Operation Mode:
  [1] Analyze a single expression
  [2] Compare two expressions
Enter your choice (1 or 2):
```
å¦‚æœéœ€è¦å…³é—­éšæœºæµ‹è¯•ä»…æ‰‹åŠ¨æµ‹è¯•ï¼Œè¯·æ³¨é‡Šæ‰`main.cpp`ä¸­æœ€å¼€å§‹çš„ä»£ç `#define ENABLE_RANDOM_TEST`

## ğŸ—ï¸ ç®€å•æ•°å­¦è¡¨è¾¾å¼åˆ†ææ¡†æ¶

### 1. è¯æ³•åˆ†æ (Lexical Analysis/Tokenization)

**ç›®æ ‡**: å°†è¾“å…¥çš„å­—ç¬¦åºåˆ—åˆ†è§£ä¸ºæœ‰æ„ä¹‰çš„**è¯æ³•å•å…ƒ (Tokens)**ã€‚

* **è¾“å…¥**: åŸå§‹æ•°å­¦è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼ˆå¦‚ `(3+x)*sin(2)`ï¼‰ã€‚
* **è¾“å‡º**: Token åºåˆ— 
  - (å¦‚ä¸Šä¾‹çš„tokenåºåˆ—ï¼šLPAREN 
INT(3) 
PLUS 
VAR(x) 
RPAREN 
MUL 
SIN 
LPAREN 
INT(2) 
RPAREN 
EOF)
* **Token ç±»å‹å®šä¹‰**:
    * **æ•´æ•°å¸¸æ•° (INT)**: e.g., `3`, `100`
    * **å˜é‡ (VAR)**: å•ä¸ªå­—æ¯, e.g., `x`, `y`
    * **è¿ç®—ç¬¦ (OP)**: `+`, `-`, `*`, `/`, `^` (å¹‚)
    * **å‡½æ•° (FUNC)**: `sqrt`, `ln`, `sin`, `cos`, `tan`
    * **æ‹¬å· (PAREN)**: `(`, `)`
    * **éšå¼ä¹˜æ³•å¤„ç†**: è¯†åˆ«çœç•¥çš„ä¹˜å·ï¼Œä¾‹å¦‚åœ¨ `3x` æˆ– `(x+1)y` ä¹‹é—´æ’å…¥ `*` Tokenã€‚

### 2. è¯­æ³•åˆ†æ (Syntax Analysis/Parsing)

**ç›®æ ‡**: æ£€æŸ¥ Token åºåˆ—æ˜¯å¦ç¬¦åˆè¯­æ³•è§„åˆ™ï¼Œå¹¶ç”Ÿæˆ**æŠ½è±¡è¯­æ³•æ ‘ (AST)**ã€‚

* **è¾“å…¥**: Token åºåˆ—ã€‚ï¼ˆå¦‚(3+x)*sin(2)ï¼‰
* **è¾“å‡º**: æŠ½è±¡è¯­æ³•æ ‘ (AST) æˆ–**è¯­æ³•é”™è¯¯**ï¼Œå¹¶ç”¨ç¼©è¿›è¡¨ç¤ºä¼˜å…ˆçº§ã€‚
* **æ ¸å¿ƒåŠŸèƒ½**:
    * **éªŒè¯ç»“æ„**: æ£€æŸ¥æ‹¬å·åŒ¹é…ã€æ“ä½œç¬¦æ•°é‡åŠä½ç½®ç­‰æ˜¯å¦æ­£ç¡®ã€‚
    * **AST ç”Ÿæˆ**: æ ¹æ®è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§æ„å»ºè¯­æ³•æ ‘ã€‚ä¾‹å¦‚ï¼Œå¯¹ $A+B*C$ ç”Ÿæˆçš„æ ‘åº”ä½“ç°ä¹˜æ³•ä¼˜å…ˆäºåŠ æ³•ã€‚

### 3. ç®€å•ç­‰æ€§åˆ¤æ–­ (Simple Equality Judgment)

**ç›®æ ‡**: åˆ¤å®šä¸¤ä¸ª AST æ‰€ä»£è¡¨çš„è¡¨è¾¾å¼æ˜¯å¦åœ¨â€œç®€å•â€å¤šé¡¹å¼å˜æ¢ä¸‹ç›¸ç­‰ã€‚

* **è¾“å…¥**: ä¸¤ä¸ªè¡¨è¾¾å¼çš„ ASTï¼Œè®°ä¸º $AST_1$ å’Œ $AST_2$ã€‚
* **è¾“å‡º**: **ç›¸ç­‰ (True)** æˆ– **ä¸ç›¸ç­‰ (False)**ã€‚
* **åˆ¤æ–­é€»è¾‘**:
    * **æ ‡å‡†åŒ–/è§„èŒƒåŒ– (Normalization)**:
        * å¯¹è¡¨è¾¾å¼ä¸­ä»…æ¶‰åŠ**åŠ æ³•**ã€**å‡æ³•**ã€**ä¹˜æ³•**çš„éƒ¨åˆ†ï¼ˆè§†ä¸º**å¤šé¡¹å¼**ï¼‰è¿›è¡Œè§„èŒƒåŒ–ï¼Œåˆ©ç”¨**åŠ æ³•å’Œä¹˜æ³•çš„äº¤æ¢å¾‹**ï¼ˆå¦‚ $1+x \Rightarrow x+1$ï¼‰å’Œ**ç»“åˆå¾‹**ã€‚
        * **æ³¨æ„**: åŒ…å«**é™¤æ³•**ã€**å¹‚è¿ç®—**ã€**å‡½æ•°**çš„å­å¼ä½œä¸º**ä¸å¯åˆ†è§£çš„æ•´ä½“**ã€‚
    * **ç‰¹æ®Šå¹‚å¤„ç†**: å°†**æŒ‡æ•°ä¸ºå¸¸æ•° 2 å’Œ 3** çš„å¹‚è¿ç®—çº³å…¥ç­‰æ€§åˆ¤æ–­çš„è§„èŒƒåŒ–èŒƒå›´ã€‚
    * **æ¯”è¾ƒ**: æ¯”è¾ƒä¸¤ä¸ªè§„èŒƒåŒ–åçš„ AST æ˜¯å¦ç»“æ„å®Œå…¨ç›¸åŒã€‚

---

## How to Contibute
### Clone
```bash
git clone git@github.com:starrywiki/SimpleMathAnalyzer.git
cd SimpleMathAnalyzer
```
### Verify Connection: (Optional, but recommended)
```bash
ssh -T git@github.com
# Expected output: Hi [Your Username]! You've successfully authenticated...
# æˆ‘ç”¨çš„sshåè®®ï¼Œå¯è‡ªç”±é€‰æ‹©
```
### Workflow 
Do NOT work directly on the main branch. This branch is reserved for stable, tested code.
1. Update main: Before starting any new work, make sure your local main branch is up-to-date:
```bash
git checkout main
git pull origin main
```
2. Create a Feature Branch: Create a new branch for your specific task (e.g., implementing the Lexer's number scanning or the Parser's power rule).
```bash
git checkout -b feature/your-task-name
# Example: git checkout -b feature/lexer-implicit-multiplication
```
3. Develop and Commit: Write your code in the feature branch.
```bash
git add .
git commit -m "feat: Describe your change clearly and concisely"
# Example: git commit -m "feat: Implemented logic to insert STAR token for implicit multiplication"
```
4. Push the Branch
```bash
git push -u origin feature/your-task-name
```

5. Create a Pull Request (PR):

- Go to GitHub.
- Create a Pull Request from your feature branch back into the main branch.
- Wait for review before merging.

## ğŸ—“ï¸ é‡è¦æ—¶é—´èŠ‚ç‚¹ 

è¯·æ³¨æ„ä»¥ä¸‹æˆªæ­¢æ—¥æœŸï¼Œæ‰€æœ‰ææ–™éœ€å‘é€è‡³ `caoqinxiang@sjtu.edu.cn`[cite: 19]:

| äº‹é¡¹                      | æˆªæ­¢æ—¥æœŸ                                                                   |
| :------------------------ | :------------------------------------------------------------------------- |
| **ç¼–ç¨‹ä»»åŠ¡**é€‰é¢˜ç¡®è®¤      | [cite_start]11æœˆ18æ—¥ï¼ˆå‘¨äºŒï¼‰12:00:00 - 11æœˆ23æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 22] |
| ç¼–ç¨‹ä»»åŠ¡è¿›å±•æƒ…å†µæäº¤      | [cite_start]11æœˆ30æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 23]                            |
| **ç¼–ç¨‹ä»»åŠ¡æœ€ç»ˆç‰ˆæœ¬**æäº¤  | [cite_start]12æœˆ14æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 25]                            |
| **ç†è®ºä»»åŠ¡**é€‰é¢˜ç¡®è®¤      | [cite_start]12æœˆ7æ—¥ï¼ˆå‘¨æ—¥ï¼‰12:00 - 12æœˆ14æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 24]     |
| ç†è®ºä»»åŠ¡è¿›å±•æƒ…å†µ (ç¬¬ä¸€æ¬¡) | [cite_start]12æœˆ21æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 26]                            |
| ç†è®ºä»»åŠ¡è¿›å±•æƒ…å†µ (ç¬¬äºŒæ¬¡) | [cite_start]12æœˆ28æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 27]                            |
| ç†è®ºä»»åŠ¡æœ€ç»ˆç‰ˆæœ¬æäº¤      | [cite_start]2026å¹´1æœˆ18æ—¥ï¼ˆå‘¨æ—¥ï¼‰23:59:59 [cite: 28]                       |

---