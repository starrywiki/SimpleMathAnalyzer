# SimpleMathAnalyzer
Lexical analysis, syntax analysis, and simple equality judgment of simple mathematical expressions
您好，我明白了。我将以您的身份**SimpleMathAnalyzer**来总结所需完成的任务，并提供一个具体框架。我的核心任务是为**简单数学表达式**进行**词法分析**、**语法分析**和**简单等性判断**。

以下是根据您提供的项目要求和我的功能定位所总结的**具体任务框架**：

## 📝 任务要求概要

* [cite_start]**项目构成**: 包含一个**编程任务**（编译器组件实现）和一个**理论任务**（程序语言理论证明）[cite: 3]。
* **我所承担的编程任务**: **简单数学表达式的词法分析、语法分析和简单等性判断**。
* [cite_start]**评分权重**: 编程任务占总评分的 10 分，理论任务占总评分的 25 分 [cite: 3]。
* **实现目标**:
    * 定义包含整数常数、变量（单个字母）、四则运算（加、减、乘、除，乘号可能省略）、幂运算、开根号、自然对数、三角函数以及括号的数学表达式**语法树**。
    * 实现这类表达式的**词法分析**和**语法分析**。
    * 实现**简单等性判断**：将包含加减乘乘以外任何运算符的子式看作一个整体，利用**多项式**的变换判定两个表达式是否相等（例如 $1+x$ 与 $x+1$ 应被判定为相等）。
    * 将指数为常数 2、常数 3 的情况纳入上述等性判断的处理范围。

---

## 🏗️ 编程任务：简单数学表达式分析框架

### 1. 词法分析 (Lexical Analysis/Tokenization)

**目标**: 将输入的字符序列分解为有意义的**词法单元 (Tokens)**。

* **输入**: 原始数学表达式字符串（如 `(3+x)*sin(2)`）。
* **输出**: Token 序列。
* **Token 类型定义**:
    * **整数常数 (INT)**: e.g., `3`, `100`
    * **变量 (VAR)**: 单个字母, e.g., `x`, `y`
    * **运算符 (OP)**: `+`, `-`, `*`, `/`, `^` (幂)
    * **函数 (FUNC)**: `sqrt`, `ln`, `sin`, `cos`, `tan`
    * **括号 (PAREN)**: `(`, `)`
    * **隐式乘法处理**: 识别省略的乘号，例如在 `3x` 或 `(x+1)y` 之间插入 `*` Token。

### 2. 语法分析 (Syntax Analysis/Parsing)

**目标**: 检查 Token 序列是否符合语法规则，并生成**抽象语法树 (AST)**。

* **输入**: Token 序列。
* **输出**: 抽象语法树 (AST) 或**语法错误**。
* **核心功能**:
    * **验证结构**: 检查括号匹配、操作符数量及位置等是否正确。
    * **AST 生成**: 根据运算符的优先级和结合性构建语法树。例如，对 $A+B*C$ 生成的树应体现乘法优先于加法。

### 3. 简单等性判断 (Simple Equality Judgment)

**目标**: 判定两个 AST 所代表的表达式是否在“简单”多项式变换下相等。

* **输入**: 两个表达式的 AST，记为 $AST_1$ 和 $AST_2$。
* **输出**: **相等 (True)** 或 **不相等 (False)**。
* **判断逻辑**:
    * **标准化/规范化 (Normalization)**:
        * 对表达式中仅涉及**加法**、**减法**、**乘法**的部分（视为**多项式**）进行规范化，利用**加法和乘法的交换律**（如 $1+x \Rightarrow x+1$）和**结合律**。
        * **注意**: 包含**除法**、**幂运算**、**函数**的子式作为**不可分解的整体**。
    * **特殊幂处理**: 将**指数为常数 2 和 3** 的幂运算纳入等性判断的规范化范围。
    * **比较**: 比较两个规范化后的 AST 是否结构完全相同。

---

## 🗓️ 重要时间节点 

请注意以下截止日期，所有材料需发送至 `caoqinxiang@sjtu.edu.cn`[cite: 19]:

| 事项 | 截止日期 |
| :--- | :--- |
| **编程任务**选题确认 | [cite_start]11月18日（周二）12:00:00 - 11月23日（周日）23:59:59 [cite: 22] |
| 编程任务进展情况提交 | [cite_start]11月30日（周日）23:59:59 [cite: 23] |
| **编程任务最终版本**提交 | [cite_start]12月14日（周日）23:59:59 [cite: 25] |
| **理论任务**选题确认 | [cite_start]12月7日（周日）12:00 - 12月14日（周日）23:59:59 [cite: 24] |
| 理论任务进展情况 (第一次) | [cite_start]12月21日（周日）23:59:59 [cite: 26] |
| 理论任务进展情况 (第二次) | [cite_start]12月28日（周日）23:59:59 [cite: 27] |
| 理论任务最终版本提交 | [cite_start]2026年1月18日（周日）23:59:59 [cite: 28] |

---